<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Kreslení</title>
    <script>
        let img = new Image();
        img.src = "http://dl.damto.cz/mimon.png";
        let cnv,ctx;
        let xImg = 300;
        let yImg = 200;
        let wImg = 50;
        let hImg = 50;
        let rotaceImg = 0;
        function puntik(x,y) {
            ctx.beginPath();
            ctx.fillStyle = "yellow";
            ctx.arc(x, y, 2, 0, 2*Math.PI);
            ctx.fill();
        }
        function kresli() {
            ctx.clearRect(0,0,cnv.width,cnv.height);

            ctx.beginPath();
            ctx.lineWidth = 8;
            ctx.strokeStyle = "red";
            ctx.moveTo(0, 0);
            ctx.lineTo(200, 100);
            ctx.lineTo(200, 50);
            ctx.stroke();

            ctx.beginPath();
            ctx.lineWidth = 2;
            ctx.strokeStyle = "green";
            ctx.arc(100, 200, 30, 0, 2*Math.PI);
            ctx.stroke();

            ctx.beginPath();
            ctx.fillStyle = "blue";
            ctx.arc(100, 300, 50, 0, 2*Math.PI);
            ctx.fill();

            xImg = xImg -1;
            yImg = yImg -1;
            rotaceImg = rotaceImg -0.05;
            ctx.save(); //ulozi aktualni nastaveni platna
            ctx.translate(xImg+wImg/2, yImg+hImg/2); //posunuti stredu os do stredu obrazku
            ctx.rotate(rotaceImg); //otoceni o konkretni uhel
            ctx.drawImage(img, -wImg/2, -hImg/2, wImg, hImg); //pozice obrazku udava jeho levy horni roh v posunutych osach
            puntik(0,0); //vykresluje prusecik posunutych os
            ctx.restore(); //obnovi nastaveni platna z ulozeneho
        }
        function poNacteni() {
            cnv = document.getElementById("platno");
            ctx = cnv.getContext("2d");
            setInterval(kresli, 20);
        }
    </script>
</head>
<body onload="poNacteni()">

<h1>Kreslení</h1>

<canvas id="platno" width="600" height="400" style="background-color: gainsboro"></canvas>

</body>
</html>
